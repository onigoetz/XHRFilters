!function(e){function t(s){if(r[s])return r[s].exports;var n=r[s]={exports:{},id:s,loaded:!1};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";function r(e,t,r,s){this.method=e,this.backwards=t,this.middlewares=n,this.helpers=r,this["final"]=s,this.current=this.backwards?this.middlewares.length:-1}var s=window.jQuery,n=[];s.ajaxRegisterMiddleware=function(e){n.push(e)},r.prototype.runSync=function(){this.args=[];for(var e in arguments)this.args.push(arguments[e]);for(var t=this.middlewares.length;t>=0;--t)this.middlewares.hasOwnProperty(t)&&this.middlewares[t].hasOwnProperty(this.method)&&this.middlewares[t][this.method].apply(null,this.args)},r.prototype.run=function(){this.args=[];for(var e in arguments)this.args.push(arguments[e]);this.args.push(this.helpers),this.args.push(this.next.bind(this)),this.next()},r.prototype.next=function(){this.current=this.backwards?this.current-1:this.current+1,this.middlewares.hasOwnProperty(this.current)&&this.middlewares[this.current].hasOwnProperty(this.method)?this.middlewares[this.current][this.method].apply(null,this.args):this["final"]()};var o=s.ajax;s.ajax=function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{},e&&(t.url=e);var n,i={readyState:0,getResponseHeader:function(e){return n?n.getResponseHeader(e):null},getAllResponseHeaders:function(){return n?n.getAllResponseHeaders():null},setRequestHeader:function(e,t){return n&&n.setRequestHeader(e,t),this},overrideMimeType:function(e){return n&&n.overrideMimeType(e),this},statusCode:function(e){return n&&n.statusCode(e),this},abort:function(e){return n&&n.statusCode(e),this}},a=s.Deferred();a.promise(i);var u=s.extend({},t,{success:s.noop,error:s.noop,complete:s.noop});if(new r("before",!0).runSync(u),n=o(e,u).done(function(e,t,s){var n=this,o={resolve:function(){console.log("Resolve outer XHR from resolved"),i.readyState=s.readyState,a.resolveWith(n,[e,t,s])},reject:function(e){console.log("Reject inner XHR from resolved"),a.rejectWith(n,[s,t,e])}};new r("done",!1,o,o.resolve).run(s,e,u)}).fail(function(e,t,s){var n=this,o={resolve:function(){console.log("Resolve inner XHR from rejected"),a.resolveWith(n,[e.responseText,t,e])},reject:function(r){console.log("Reject inner XHR from rejected"),i.readyState=e.readyState,a.rejectWith(n,[e,t,r])}};new r("done",!1,o,o.reject).run(e,s,u),e.readyState=arguments[0].readyState,a.rejectWith(this,arguments)}),t.success&&i.done(t.success),t.error&&i.fail(t.error),t.complete){if("function"!=typeof t.complete){var h=t.complete;t.complete=function(){for(var e in h)h.hasOwnProperty(e)&&h[e].apply(this,arguments)}}i.done(function(e,r,s){t.complete.call(this,s,r)}),i.fail(t.complete)}return i}}]);